<script src="/docs/assets/js/node_modules/angular/angular.min.js"></script>
<script src="/docs/assets/js/node_modules/angular-md/dist/angular-md.js"></script>
<script src="/docs/assets/js/node_modules/marked/lib/marked.js"></script>
<script src="/docs/assets/js/node_modules/angular-material/angular-material.min.js"></script>
<script src="/docs/assets/js/node_modules/angular-animate/angular-animate.min.js"></script>
<script src="/docs/assets/js/node_modules/angular-aria/angular-aria.min.js"></script>
{% if page.terminuspage %}
  <script type="text/javascript">
    function setActivetrail() {
      aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
      for(i=0;i<aaObj.length;i++) {
        if(document.location.href.indexOf(aaObj[i].href)>=0 ){
          aaObj[i].className='active-trail';
          if(/\/install.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
          if(/\/configuration.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
          if(/\/examples.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
          if(/\/commands.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
          if(/\/scripting.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
          if(/\/releases.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
          if(/\/plugins.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
          if(/\/directory.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus-plugins').removeClass('active-trail');
          }
          if(/\/create.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus-plugins').removeClass('active-trail');
          }
          if(/\/updates.*/.test(aaObj[i].href)>=1) {
            $('#docs-terminus').removeClass('active-trail');
          }
        }
      }
    }
    window.addEventListener("load", setActivetrail);
  </script>
{% endif %}
{% if page.quickstart %}
  <script type="text/javascript">
    function setActivetrail() {
      aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
      for(i=0;i<aaObj.length;i++) {
        if(document.location.href.indexOf(aaObj[i].href)>=0 ){
          aaObj[i].className='active-trail';
          if(/\/user-dashboard.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/create-new-site.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/site-dashboard.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/create-test-live.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/clone-live-to-dev.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/connection-modes.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/onserver-dev-part1.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/onserver-dev-part2.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
          if(/\/next-steps.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-quickstart').removeClass('active-trail');
          }
        }
      }
    }
    window.addEventListener("load", setActivetrail);
  </script>
{% endif %}
{% if page.buildtools %}
  <script type="text/javascript">
    function setActivetrail() {
      aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
      for(i=0;i<aaObj.length;i++) {
        if(document.location.href.indexOf(aaObj[i].href)>=0 ){
          aaObj[i].className='active-trail';
          if(/\/create-project.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/project-page.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/new-pr.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/configure.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/update.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/extend.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/custom-theme.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/tests.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
          if(/\/merge.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-build-tools').removeClass('active-trail');
          }
        }
      }
    }
    window.addEventListener("load", setActivetrail);
  </script>
{% endif %}
{% if page.launch %}
  <script type="text/javascript">
    function setActivetrail() {
      aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
      for(i=0;i<aaObj.length;i++) {
        if(document.location.href.indexOf(aaObj[i].href)>=0 ){
          aaObj[i].className='active-trail';
          if(/\/plans.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/domains.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/configure-dns.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/https.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/redirects.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/launch-check.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/next-steps.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
        }
      }
    }
    window.addEventListener("load", setActivetrail);
  </script>
{% endif %}
{% if page.pagerduty %}
  <script type="text/javascript">
    function setActivetrail() {
      aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
      for(i=0;i<aaObj.length;i++) {
        if(document.location.href.indexOf(aaObj[i].href)>=0 ){
          aaObj[i].className='active-trail';
          if(/\/monitor.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/schedule.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/notify.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/slack.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
          if(/\/next-steps.*/.test(aaObj[i].href)>=1) {
            $('#docs-guides-introduction').removeClass('active-trail');
          }
        }
      }
    }
    window.addEventListener("load", setActivetrail);
  </script>
{% endif %}
{% if page.gitwordpress %}
<script type="text/javascript">
    function setActivetrail() {
        aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
        for(i=0;i<aaObj.length;i++) {
            if(document.location.href.indexOf(aaObj[i].href)>=0 ){
                aaObj[i].className='active-trail';
                if(/\/plugins.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-wordpress-git').removeClass('active-trail');
                }
                if(/\/themes.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-wordpress-git').removeClass('active-trail');
                }
                if(/\/media.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-wordpress-git').removeClass('active-trail');
                }
                if(/\/remove-editor.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-wordpress-git').removeClass('active-trail');
                }
                if(/\/next-steps.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-wordpress-git').removeClass('active-trail');
                }
            }
        }
    }
    window.addEventListener("load", setActivetrail);
</script>
{% endif %}
{% if page.multisite %}
<script type="text/javascript">
    function setActivetrail() {
        aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
        for(i=0;i<aaObj.length;i++) {
            if(document.location.href.indexOf(aaObj[i].href)>=0 ){
                aaObj[i].className='active-trail';
                if(/\/considerations.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-multisite').removeClass('active-trail');
                }
                if(/\/config.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-multisite').removeClass('active-trail');
                }
                if(/\/workflow.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-multisite').removeClass('active-trail');
                }
                if(/\/debug.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-multisite').removeClass('active-trail');
                }
            }
        }
    }
    window.addEventListener("load", setActivetrail);
</script>
{% endif %}
{% if page.woocommerce %}
<script type="text/javascript">
    function setActivetrail() {
        aaObj = document.getElementById('manual-guide-toc').getElementsByTagName('a');
        for(i=0;i<aaObj.length;i++) {
            if(document.location.href.indexOf(aaObj[i].href)>=0 ){
                aaObj[i].className='active-trail';
                if(/\/store-setup.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-woocommerce').removeClass('active-trail');
                }
                if(/\/configure.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-woocommerce').removeClass('active-trail');
                }
                if(/\/commit.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-woocommerce').removeClass('active-trail');
                }
                if(/\/initialize-prod.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-woocommerce').removeClass('active-trail');
                }
                if(/\/develop.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-woocommerce').removeClass('active-trail');
                }
                if(/\/launch.*/.test(aaObj[i].href)>=1) {
                    $('#docs-guides-woocommerce').removeClass('active-trail');
                }
            }
        }
    }
    window.addEventListener("load", setActivetrail);
</script>
{% endif %}
<script>
var terminusCompareApp = angular.module('terminusCompareApp', ['ngMaterial']);
var terminusLatestRelease = angular.module("terminusLatestReleaseApp", ['yaru22.md']);
terminusLatestRelease.config(function($interpolateProvider) {
  $interpolateProvider.startSymbol('{[{');
  $interpolateProvider.endSymbol('}]}');
});

terminusLatestRelease.controller("terminusLatestReleaseCtrl", function($scope, $http) {
    $scope.latestRelease = {};
    $http.get('/docs/assets/terminus/releases/latest.json')
      .then(function (response) {
        var data = response.data;
        $scope.latestRelease = data;
    });
});

var terminusRelease = angular.module('terminusReleaseApp', ['yaru22.md']);
terminusRelease.config(function($interpolateProvider) {
  $interpolateProvider.startSymbol('{[{');
  $interpolateProvider.endSymbol('}]}');
});

terminusRelease.controller('terminusReleaseCtrl', function($scope, $http) {
  $scope.releases = [];
  $http.get('/docs/assets/terminus/releases.json')
    .then(function (response) {
      var data = response.data;
      $scope.releases = data;
      $scope.greaterThan = function(prop, val){
          return function(item){
            return item[prop] > val;
          }
      }

  });
  }
);
angular.bootstrap(document.getElementById("terminusRelease"), ['terminusReleaseApp']);


var terminusCommandsApp = angular.module('terminusCommandsApp', ['ngMaterial']);


terminusCommandsApp.config(function($interpolateProvider) {
  $interpolateProvider.startSymbol('{[{');
  $interpolateProvider.endSymbol('}]}');
});

terminusCommandsApp.controller('mainController', function($scope, $http) {
  $scope.searchCommand   = '';
  $scope.terminus = [];
  $http.get('/docs/assets/terminus/commands.json')
    .then(function (response) {
      var data = response.data;

      var old = JSON.stringify(data).replace(/(<site_env>)/g, "<site>.<env>").replace(/(<site_env_id>)/g, "<site>.<env>").replace(/(<site_id>)/g, "<site>").replace(/(<site_name>)/g, "<site>").replace(/(\[<drush_command>\]\.\.\.)/g, "-- <drush_command>\\n\\nThe double-dash (--) signifies the end of the Terminus options. Everything that comes after the double-dash is interpreted as positional parameters (arguments) and passed to Drush.").replace(/(\[<wp_command>\]\.\.\.)/g, "-- <wp_command>\\n\\nThe double-dash (--) signifies the end of the Terminus options. Everything that comes after the double-dash is interpreted as positional parameters (arguments) and passed to WP-CLI.");
      var newArray = JSON.parse(old);
      $scope.terminus = newArray;

  });
  $scope.clearFilters = function(){
      $scope.searchCommand =  undefined;
  };
});

//Sort usage array by relevance based on Regex matches from search query
terminusCommandsApp.filter('search', function() {
  return function (items, str) {
    if(str == '') return items;
    var filtered = [];
    var rgx = new RegExp(str, 'gi');

    angular.forEach(items, function(item) {
      item.points = (JSON.stringify(item).match(rgx) || []).length;
      filtered.push(item);
    });
  return filtered;
}
});

//Replace commas with new lines, to be used when printing field descriptions
terminusCommandsApp.filter('formatFields', [function() {
    return function(string) {
        if (!angular.isString(string)) {
            return string;
        }
        return string.replace(":", ": \n").replace(/,/g, '\n');
    };
}])


terminusCompareApp.config(function($interpolateProvider) {
  $interpolateProvider.startSymbol('{[{');
  $interpolateProvider.endSymbol('}]}');
});

terminusCompareApp.controller('mainController', function($scope, $http) {
  $scope.searchCommand   = '';
  $scope.terminus = [];
  $http.get('/docs/assets/terminus/compare.json')
    .then(function (response) {
      var data = response.data;
      $scope.terminus = data;
    });
  $scope.clearFilters = function(){
      $scope.searchCommand =  undefined;
  };
});
//Sort usage array by relevance based on Regex matches from search query
terminusCompareApp.filter('search', function() {
  return function (items, str) {
    if(str == '') return items;
    var filtered = [];
    var rgx = new RegExp(str, 'gi');

    angular.forEach(items, function(item) {
      item.points = (JSON.stringify(item).match(rgx) || []).length;
      filtered.push(item);
    });
  return filtered;
}
});


</script>

<div class="navbar navbar-fixed-top pio-docs-nav" role="navigation">
        <div class="navbar-header">
            <!-- Nav Collapse button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-bars"></i>
            </button>
            <!--Pantheon SVG LOGO-->
            <div class="docs">
                <a class="" href="https://pantheon.io/">
                  <img alt="Pantheon Logo" class="pantheon-logo" src="/source/docs/assets/images/Pantheon_Color_rev_clear.png">
              </a>
            </div>
        </div>
        <!-- Nav Primary Menu Top -->
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="create-account"><a href="https://pantheon.io/register" target="_blank" class="cta cta-yellow">Get Free Account</a></li>
                <li class=""><a href="https://dashboard.pantheon.io" target="_blank">Log In</a></li>
                <li class=""><a href="https://dashboard.pantheon.io/#support/support/all" target="_blank">Support</a></li>
                <li class="dropdown">
                  <a href="/docs" class="dropdown-toggle active-trail" role="button" aria-haspopup="true" aria-expanded="false" style="padding-left:15px;padding-right:25px;">Documentation</a>

                  <ul id="dropmenu" class="dropdown-menu">
                  <div class="row sub-menu-top">
                    <div class="col-xs-6">
                        <li><a id="get-started" href="/docs/get-started">Get Started</a></li>
                        <li><a id="develop" href="/docs/develop">Develop</a></li>
                        <li><a id="go-live" href="/docs/go-live">Go Live</a></li>
                        <li><a id="platform" href="/docs/platform">Explore Platform Architecture</a></li>
                    </div>

                    <div class="col-xs-6">
                      <li><a id="automate" href="/docs/automate">Automate & Integrate</a></li>
                      <li><a id="performance" href="/docs/performance">Optimize Performance</a></li>
                      <li><a id="manage" href="/docs/manage">Manage Teams & Organizations</a></li>
                      <li><a id="troubleshoot" href="/docs/troubleshoot">Troubleshoot</a></li>
                    </div>
                  </div>

                  <div class="row sub-menu-bottom">
                      <div class="col-xs-12">
                        <li><a id="changelogs" href="/docs/changelog">Changelog</a></li>
                        <li><a id="getting-started-guide" href="/docs/guides/">Guides <span class="label label-info">NEW</span></a></li>
                        <li><a id="terminus" href="/docs/terminus">Terminus Manual</a></li>
                      </div>

                  </div>
                  </ul>

                </li>
            </ul>
            <div class="navsearch-container">
              <div class="navsearch form-group has-feedback">
                {% if (page.layout == "guide") or (page.layout == "terminuspage")  %}
                  <div class="container-fluid container-navsearch-box-guide">
                {% else %}
                  <div class="container container-navsearch-box">
                {% endif %}
                {% if page.dashsearch %}
                  {% include("dash_search_box.html") %}
                {% else %}
                  {% include("search_box.html") %}
                {% endif %}
                  <span class="glyphicon glyphicon-search form-control-feedback" aria-hidden="true"></span>
                  <span class="sr-only">(search)</span>
                </div>
              </div>
            </div>
    </div>
</div>
