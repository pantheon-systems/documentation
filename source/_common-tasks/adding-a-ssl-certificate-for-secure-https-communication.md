---
title: Adding a SSL Certificate for Secure HTTPS Communication
filename: source/_common-tasks/adding-a-ssl-certificate-for-secure-https-communication.md
---
## Overview of SSL on Pantheon

Loading your SSL certificate into the system provides you with a dedicated IP address for your site, which you will need to use in your DNS configuration to use HTTPS.

Pantheon will use a certificate generated by any valid OpenSSL implementation. Most linux and Mac OS environments can generate keys and CSRs (certificate signing requests) directly from the command line. You can generate a CSR  with this [digicert wizard tool](https://www.digicert.com/easy-csr/openssl.htm).

If you're running a Windows environment, you'll need to have Cygwin installed. For more information, see [Installing Cygwin on Windows](http://helpdesk.getpantheon.com/customer/portal/articles/474151-installing-cygwin-on-windows).

## Generate a Key and CSR

1.  Generate an RSA Key (.key) and CSR, and set up the information for your certificate. The most important part of this is the "Common Name", which is the domain. 
  
  
 ![Generate CSR command](https://pantheon-systems.desk.com/customer/portal/attachments/40331)

**Note**: Do not add a password to your key. We will not be able to work with it.  

2. Copy the command from the OpenSSL CSR wizard and paste it into a terminal. 

  It is important to keep your .key file that you generate and make sure it's secure; you will need it later when you set up SSL with Pantheon.  
  

The command will be similar to the following:

    openssl req -new -newkey rsa:2048 -nodes -out www_pantheon_com.csr
    -keyout www_pantheon_com.key -subj "/C=US/ST=California/L=San Francisco/O=Pantheon 
    Systems/OU=Support/CN=www.pantheon.com";

The output of this should be two files:  
  
`www_pantheon_com.csr`  
`www_pantheon_com.key`

**Note**: The .key and .csr files in this document are shown as examples only. You must generate a valid .key and .csr file for your own domain and paste the command from the wizard into your terminal or console.

## Multiple Domains with Subject Alternative Names (SANs)

A Subject Alternative Name is a public key certificate that is permitted to identify more than one entity or device. SANs may be the right choice if you need to manage multiple domains with a single certificate.

For more information, see [SAN Certificates](http://www.digicert.com/subject-alternative-name.htm "digicert.com, SAN Certificates").

## Get an SSL Certificate

Give the CSR to the SSL provider, and they will supply you with one or more certificate (.crt or .pem) files. You'll then need to load these certificates and the original .key into Pantheon. The CSR is not used after you get your certificates.  

If the SSL provider asks you to select a type of web host server software as you purchase your certificate, look for an option that has support for OpenSSL, such as Apache with mod\_SSL support if that's available.

## Intermediary Certificates

You may get more than one certificate back from your SSL provider. There will be one certificate that is especially for you, and another intermediary certificate. These are used to establish the chain of trust between your provider and you.

If you get more than one intermediary certificate file, you'll need to combine them into one, though this is rare. Your provider may also send you a "certificate authority" or "CA" cert. This does not need to be included.

## Load a Certificate into Pantheon

To validate your own files before submitting them to Pantheon, check out this list of [the most common OpenSSL commands](http://www.sslshopper.com/article-most-common-openssl-commands.html).

**Note**: You'll need to have a [Pro level plan](https://www.getpantheon.com/pricing) or higher to take advantage of SSL on Pantheon. 

1. From your Dashboard, click **Domains** on the environment you want to add the SSL cert to. 
2. Select the **SSL tab**.
**Note**: If you have not added a card to your site, you will get a message in the main workspace letting you know you need to select a plan.

![](https://pantheon-systems.desk.com/customer/portal/attachments/259878)

3. Paste in the .key you generated earlier, as well as your SSL certificate that you purchased from your provider.
4. If your provider issued an intermediary certificate, copy and paste it into the SSL Certificate field also.

![Site dashboard add SSL certificate step 2](https://pantheon-systems.desk.com/customer/portal/attachments/259882)​

After submitting your certificates, your new static IP address should show under the "Domain Setup" section. There may be a delay up to 120 seconds. If you're experiencing problems getting your IP address, contact support.  

## Add a Wildcard Certificate

You can upload the same wildcard SSL certificate for multiple sites that share a domain, and add the correct subdomain to each site's domain tab in the live environment.

## Verify Your SSL IP Address

Before you point your DNS to the custom IP address you received after entering your SSL, you can verify that the certificate is correct by visiting the HTTPS IP address. 

![Site dashboard domain setup section](https://pantheon-systems.desk.com/customer/portal/attachments/259889)​

**Note: Do not attempt to use https://\*.mysite.gotpantheon.com domain as a means to test your SSL, this will not work.**

#### IPv4 and IPv6 Support for SSL

There are two options for configuring your DNS when you are using SSL. The platform has support for IPv4 (A records) and IPv6 (AAAA record) when a certificate is initially installed on the dashboard.

Select the IPv4 address unless you are familiar with and understand IPv6.

## Check SSL with Chrome

Before you point your DNS to the custom IP address you received after entering your SSL, you can verify that the certificate is correct by visiting the HTTPS IP address.

**Important:** This allows you to verify that the SSL certificate matches what you uploaded. Do not expect to view the contents of the site, as we use HTTP headers to route your domain correctly.

![](https://pantheon-systems.desk.com/customer/portal/attachments/66611)  
  

In Chrome, check the certificate by clicking on the padlock in the address bar, then click **Certificate Information**.
  
 ![](https://pantheon-systems.desk.com/customer/portal/attachments/66609)

## Check End-To-End Routing

Visiting your SSL IP directly will display a 404 Site Not Found error. Pantheon's routing uses the hostname to route traffic to particular backends; without a hostname, the router cannot determine which site was requested.  
  
To test the end-to-end routing of a new SSL site, you need to specify a hostname. One way to do this is to add a host entry to your local computer's /etc/hosts file, which (for your computer only) maps the specified domain name to the specified IP address. Don't forget to remove the entry after testing.  
  
You can also test with curl on the command line. It's not very visual but you'll see your site's content, just substitute your SSL IP and hostname:

    $: curl -I -v https://192.168.0.1 --header "Host: mywebsite.com"

## SSL Providers

There are many different SSL certificate providers you can use; however, we don't have a specific recommendation.  

- [Comodo](http://www.comodo.com/ "Comodo Group")
- [DigiCert](http://www.digicert.com/ "DigiCert")
- [Entrust](http://www.entrust.com/ "Entrust")
- [GeoTrust](http://www.geotrust.com/ "GeoTrust")
- [Go Daddy](http://www.godaddy.com/ "Go Daddy") 
- [Thawte](http://www.thawte.com/ "Thawte")
- [VeriSign](http://www.verisigninc.com/ "VeriSign")
- [TrustWave](https://ssl.trustwave.com/support/install-certificate-cpanel.php "TrustWave")

## Verify the SSL Certificate Authority

If you receive SSL chain errors on a mobile device, make sure that the certificate has a certificate authority that will support your use case.

There are a number of ways to check the certificate has broad support by using an [SSL checker](http://www.sslshopper.com/ssl-checker.html).  

This will perform a number of checks, such as the validity of the certificate, expiration date, certificate authority, and validity of the SSL chain.  
  

If the certificate is valid, all the responses should be green with no breaks in the SSL chain.

![](https://pantheon-systems.desk.com/customer/portal/attachments/150678)

If you notice that the SSL chain is broken or you experience issues with mobile versions of the site, we recommend getting an SSL certificate from a different provider.

## HTTPS vs HTTP Redirection

We recommend choosing a single protocol and redirecting traffic to either HTTPS or HTTP rather than in a mixed mode. However, if you do need both HTTP and HTTPS, you can use the secure pages module to set this up. For more information, see [Redirecting Incoming Requests](http://helpdesk.getpantheon.com/customer/portal/articles/368354 "Pantheon helpdesk, incoming requests").  
  

## Frequently Asked Questions

### What should I do with a GoDaddy gd\_bundle.crt?

Use it as the Intermediary Certificate.

### What combination do I use for a basic Network Solutions SSL pack?

    MYSITE_COM.crt-------------------Cert
    UTNAddTrustServer_CA----------Intermediate
    mysite_com.key---------------------Private Key

### What combination do I use for a Comodo SSL pack?

Visit Somodo's support site to read about [SSL packs](https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/620/1/).

### I received this error: "400: Error the cert at line 1 of the chain file does not sign the main cert, Signing key mismatch". What do I do?

This indicates that some part of the chain is out of order. Check that you have the main & intermediary in the right places, and if you have multiple intermediaries check that they're in the right order.


