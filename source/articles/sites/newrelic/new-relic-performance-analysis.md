---
title: New Relic performance analysis on Pantheon
category:
  - going-live
filename: source/_guides/new-relic-performance-analysis-on-pantheon.md
---

New Relic offers a wide array of metrics that provide a nearly real-time look into the performance of a web application.

Enabling New Relic on Pantheon not only makes it easy for you to monitor to your performance, but it can also speed-up the support process by helping out support team visualize corresponding performance and symptoms.

## Enabling New Relic

To enable New Relic on your Pantheon site, click Settings in the upper-right corner of your site dashboard.  


 ![](https://pantheon-systems.desk.com/customer/portal/attachments/218051)  


Within the "Add Ons" tab, click "Add" next to New Relic.

![](https://pantheon-systems.desk.com/customer/portal/attachments/218052)  
Pantheon will automatically configure New Relic on your behalf, including all configurations on the server. No further action is required!  


You can access your New Relic instance by clicking on the newly created New Relic button on the left side of the site dashboard.  


 ![](https://pantheon-systems.desk.com/customer/portal/attachments/280225)  


You should visit your site in the browser a couple of times to generate data in New Relic. After a few minutes pass, you can go to the New Relic workspace on your dashboard and click "_Open New Relic_". You will be taken to the New Relic interface.

The New Relic Interface provides severals views that display information about various aspects of your website's performance.

## End-User Overview

![End-User Inteface](https://pantheon-systems.desk.com/customer/portal/attachments/78125)

1. The **Browser Page Load Time** represents the average time it takes the browser to process and render the page once Nginx has sent out the data. 
2. The **Apdex Score** attempts to break down the end-user response times into three categories based upon load-time thresholds. NOTE: the apdex is not the most accurate representation of your sites' load-times. It is simply there to give you a broad idea. The provided slow traces are the key to figuring out why your site is running poorly.
3. **Page Views** provides the number of page views per minute.
4. The **Apdex & Top States by Load Time** presents a visualization of load times based on region; these can be viewed internally to the United States or globally.
5. **Recent Events** logs the most recent events.

## Appserver Overview

![Appserver Overview](https://pantheon-systems.desk.com/customer/portal/attachments/77851)

1. The **response time** represents the duration that it takes for the request to be received by Nginx, processed by the application server, and returned to the client for processing and rendering. the end-user response time is different than the appserver response time, as the end-user's response time is affected by variables such as connection speed, network latency, and browser.
2. The **slow transactions** represent points of the process that take longer than a defined amount of time. This feature can be used to test a site against a set of timed-expectations to discover and fix problems.
3. **Errors** captures and logs any error generated by the application stack.
4. **Throughput** displays the number of requests per minute.
5. The **Servers** display shows the number of [DROPs](/documentation/advanced-topics/all-about-application-containers/-all-about-drops), or appservers, associated with the given environment.

## Only logging authenticated users

If your site consists of mostly authenticated traffic, it can be useful to exclude anonymous users who are using Drupal's page cache. This technique will still capture form submissions, including logins and contact pages. Similar logic can be used to disable New Relic on certain paths, such as /admin.  


If you want to disable New Relic for anonymous traffic, add the following to your sites/default/settings.php:

    <?php
    // Disable New Relic for anonymous users.
    if (function_exists('newrelic_ignore_transaction')) {
      $skip_new_relic = TRUE;
      // Capture all transactions for users with a PHP session.
      foreach (array_keys($_COOKIE) as $cookie) {
        if (substr($cookie, 0, 4) == 'SESS') {
          $skip_new_relic = FALSE;
        }
      }
      // Capture all POST requests so we include anonymous form submissions.
      if (isset($_SERVER['REQUEST_METHOD']) && $_SERVER['REQUEST_METHOD'] == 'POST') {
        $skip_new_relic = FALSE;
      }
      if ($skip_new_relic) {
        newrelic_ignore_transaction();
      }
    }

## Frequently Asked Questions

### How can I share a link to a particular metric?

In the lower-right hand corner of a New Relic performance page, click the link labeled **Permalink** . This will preserve the current time window and take the link recipient to the same page you're currently looking at.  
 ![](https://pantheon-systems.desk.com/customer/portal/attachments/218071)

### How much is New Relic?

Pantheon provides New Relic Standard at no cost. You can upgrade your site monitoring to Professional or above by contacting New Relic through your New Relic interface, and they can provide a quote. Pantheon cannot provide a New Relic quote. Make sure they know you're a Pantheon customer for a discount!

### How does New Relic price Pantheon sites for the Professional service?

New Relic sites on Pantheon are priced per DROP, rather than by core. For example, a site with three environments with two DROPs in the live environment will be priced as 4 total DROPs.

### Will turning on New Relic slow my site down?

Basically, no, New Relic will not make your site slower. There is a very small amount of overhead, but for all intents and purposes it's imperceptible. The amount of available metrics useful for debugging and improving performance far outstrips the negligible difference.

### What is the difference between app server response time and browser page load time?

App server response time measures how the page was built on Pantheon, including PHP execution, database, redis (if used), and so forth, and browser page load time measures the additional time of client-side page rendering, DOM processing, how long it took to transfer to the client. While a fast app server response time is optimal, a slow browser page load time indicates a bad user experience. Some causes are unaggregated or uncompressed scripts and stylesheets, invalid markup, or unoptimized client-side code (like JavaScript).

### Can I use my existing New Relic license with my Pantheon Site?

Yes you can! Open a support ticket and provide your account ID and license key.

## Resources

- [General New Relic documentation](https://newrelic.com/docs/)
- [Official New Relic videos and tutorials](http://newrelic.com/resources/videos)
- [Case studies](http://newrelic.com/resources/case-studies)
- [What is Real user monitoring?](https://newrelic.com/docs/features/real-user-monitoring)
- [Finding help from the New Relic UI](https://newrelic.com/docs/site/finding-help)
- [Interface overview](https://newrelic.com/docs/site/the-new-relic-ui)
